@model IEnumerable<ck_project.lead>

@{
    ViewBag.Title = "ListLead";
}

<h2>Leads</h2>


@using (Html.BeginForm("ListLead", "Lead", FormMethod.Get))
{


    @Html.TextBox("Search", ViewData.TemplateInfo.FormattedModelValue,
    new { placeholder = "Type project name here" });<input type="submit" value="Search" />


}



<p>
    @Html.ActionLink("Create a New Lead", "ListCustomers", "Customers")
</p>
<table class="table">
    <tr>
        <th>
Project Name
                </th>
        <th>
Customer Name
                </th>
        <th>
SalesPerson
                </th>
        <th>
Project Type
                </th>
        <th>
Project Status
                </th>
        <th>
            Create Date
        </th>
        <th>
Last Update Date      
          </th>
   

        <th>
Branch                </th>
       
      
        <th></th>
    </tr>

@if (Model.Count() == 0)
{
    <tr>
        <td colspan="6"> Sorry, There are no leads with the entered project name
        <td>
    </tr>
}
else
{
    foreach (var item in Model)
    {


    <tr>

        <td>
            @Html.DisplayFor(modelItem => item.project_name)
        </td>

        <td>
            @Html.DisplayFor(modelItem => item.customer.customer_firstname)
        </td>

        <td>
            @Html.DisplayFor(modelItem => item.employee.emp_firstname)
        </td>

        <td>
            @Html.DisplayFor(modelItem => item.project_type.project_type_name)
        </td>

        <td>
            @Html.DisplayFor(modelItem => item.project_status.project_status_name)
        </td>

        <td>
           @*@Html.DisplayFor(modelItem => item.lead_date)*@
            @item.lead_date.ToString("dd MMM yyyy")
        </td>

        <td>
            @Html.DisplayFor(modelItem => item.Last_update_date)
     
           
      
          
        </td>
         
         
        <td>
            @Html.DisplayFor(modelItem => item.address.city)
        </td>
     
      

      
       
        <td>
            @Html.ActionLink("Edit", "Edit", new { id = item.lead_number }) |
            @Html.ActionLink("Details", "Details", new { id = item.lead_number }) |
            @Html.ActionLink("Delete", "Delete", new { id = item.lead_number })
        </td>
    </tr>
    }
}

</table>



<div>
    @Html.ActionLink("Back to List", "ListLead")
</div>



